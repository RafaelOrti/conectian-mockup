<div>
  <app-navbar [userRole]="'CLIENT'" [userName]="'Carlos Mart√≠nez'" [notificationCount]="3"></app-navbar>
  
  <div class="case-detail-container">
    <!-- Hero Section -->
    <section class="case-hero">
      <div class="hero-content">
        <app-badge type="success" class="relevance-badge">
          {{ caseData.relevanceScore }}% coincidencia
        </app-badge>
        <h1>{{ caseData.title }}</h1>
        
        <!-- Video Section -->
        <div class="case-video-container">
          <div class="video-placeholder">
            <div class="play-button">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M8 5v14l11-7z"/>
              </svg>
            </div>
            <span class="video-label">Ver Demo Interactiva</span>
          </div>
        </div>
        
        <!-- Provider Info Bar -->
        <div class="provider-bar">
          <div class="provider-info">
            <span class="provider-logo">{{ caseData.provider.logo }}</span>
            <div>
              <h3>{{ caseData.provider.name }}</h3>
              <div class="provider-stats">
                <app-badge *ngIf="caseData.provider.verified" type="success" icon="‚úÖ">Verificado</app-badge>
                <span class="rating">‚≠ê {{ caseData.provider.rating }}</span>
                <span class="projects">{{ caseData.provider.projects }} proyectos</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Main Content -->
    <div class="case-content">
      <!-- Left Column -->
      <main class="case-main">
        <!-- Challenge Section -->
        <app-card class="section-card">
          <div class="section-header">
            <span class="section-icon">‚ùì</span>
            <h2>El Desaf√≠o</h2>
          </div>
          <p class="section-text">{{ caseData.challenge }}</p>
          <div class="context-tag">
            <strong>Contexto:</strong> {{ caseData.industry }}
          </div>
        </app-card>
        
        <!-- Solution Section -->
        <app-card class="section-card">
          <div class="section-header">
            <span class="section-icon">üß†</span>
            <h2>La Soluci√≥n Implementada</h2>
          </div>
          <p class="section-text" style="white-space: pre-line;">{{ caseData.solution }}</p>
          
          <!-- Tech Stack -->
          <div class="tech-stack">
            <h4>Stack Tecnol√≥gico:</h4>
            <div class="tech-tags">
              <span *ngFor="let tech of caseData.techStack" class="tech-tag">
                {{ tech }}
              </span>
            </div>
          </div>
        </app-card>
        
        <!-- Results Section -->
        <app-card class="section-card">
          <div class="section-header">
            <span class="section-icon">üìä</span>
            <h2>Resultados Cuantificables</h2>
          </div>
          
          <!-- KPI Cards -->
          <div class="results-grid">
            <div *ngFor="let result of caseData.results" class="result-card" [class]="'result-' + result.color">
              <div class="result-icon">{{ result.icon }}</div>
              <div class="result-value">{{ result.value }}</div>
              <div class="result-label">{{ result.label }}</div>
            </div>
          </div>
          
          <!-- Chart Placeholder -->
          <div class="chart-section">
            <h4>Tasa de Fraude: Antes vs. Despu√©s</h4>
            <div class="chart-placeholder">
              üìà L√≠nea de tendencia mostrando reducci√≥n de {{ caseData.chartData.before[0] }}% a {{ caseData.chartData.after[3] }}%
            </div>
          </div>
        </app-card>
      </main>
      
      <!-- Right Sidebar -->
      <aside class="case-sidebar">
        <app-card>
          <h3>Resumen de M√©tricas</h3>
          <div class="metric-row">
            <span class="metric-label">Industria:</span>
            <span class="metric-value">{{ caseData.industry }}</span>
          </div>
          <div class="metric-row">
            <span class="metric-label">Timeline:</span>
            <span class="metric-value">{{ caseData.timeline }}</span>
          </div>
          <div class="metric-row">
            <span class="metric-label">Tama√±o equipo:</span>
            <span class="metric-value">{{ caseData.teamSize }}</span>
          </div>
        </app-card>
        
        <!-- CTAs -->
        <div class="cta-section">
          <app-button variant="primary" (clickEvent)="startConversation()" style="width: 100%; margin-bottom: 1rem;">
            üí¨ Iniciar Conversaci√≥n Segura
          </app-button>
          <app-button variant="secondary" (clickEvent)="viewProviderProfile()" style="width: 100%;">
            Ver Perfil del Proveedor
          </app-button>
        </div>
      </aside>
    </div>
  </div>
</div>

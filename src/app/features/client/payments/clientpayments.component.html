<div class="client-payments-page">
  <app-navbar 
    [userRole]="'CLIENT'" 
    [userName]="'Carlos Mart√≠nez'"
    [notificationCount]="3"
    [messageCount]="2"
    [projectCount]="4"
  ></app-navbar>
  
  <div class="container">
    <div class="page-header">
      <div>
        <h1>üí≥ Pagos y Facturaci√≥n</h1>
        <p class="subtitle">Gestiona tus m√©todos de pago y descarga facturas</p>
      </div>
      <app-button variant="primary" icon="‚ûï">A√±adir M√©todo de Pago</app-button>
    </div>

    <div class="payments-layout">
      <!-- Payment Methods -->
      <section class="payment-methods-section">
        <h2>M√©todos de Pago</h2>
        <div class="cards-grid">
          <app-card class="payment-method-card active">
            <div class="card-header">
              <span class="card-brand">VISA</span>
              <span class="default-badge">Predeterminado</span>
            </div>
            <div class="card-number">**** **** **** 4242</div>
            <div class="card-footer">
              <span class="expiry">Expira 12/28</span>
              <button class="edit-btn">Editar</button>
            </div>
          </app-card>
          
          <app-card class="payment-method-card">
            <div class="card-header">
              <span class="card-brand">Mastercard</span>
            </div>
            <div class="card-number">**** **** **** 8899</div>
            <div class="card-footer">
              <span class="expiry">Expira 09/27</span>
              <button class="edit-btn">Editar</button>
            </div>
          </app-card>

          <button class="add-card-btn">
            <span class="plus-icon">+</span>
            <span>A√±adir nueva tarjeta</span>
          </button>
        </div>
      </section>

      <!-- Billing History -->
      <section class="billing-history-section">
        <h2>Historial de Facturaci√≥n</h2>
        <app-card class="history-card">
          <div class="table-filters">
            <div class="search-box">
              <span class="search-icon">üîç</span>
              <input type="text" placeholder="Buscar factura..." class="search-input">
            </div>
            <select class="filter-select">
              <option value="2025">2025</option>
              <option value="2024">2024</option>
            </select>
          </div>

          <table class="billing-table">
            <thead>
              <tr>
                <th>Factura</th>
                <th>Fecha</th>
                <th>Concepto</th>
                <th>Monto</th>
                <th>Estado</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let invoice of invoices">
                <td>
                  <span class="invoice-id">{{invoice.id}}</span>
                </td>
                <td>{{invoice.date}}</td>
                <td>{{invoice.concept}}</td>
                <td>{{invoice.amount}}</td>
                <td>
                  <span class="status-badge" [class]="invoice.status">
                    {{invoice.status === 'paid' ? 'Pagado' : 'Pendiente'}}
                  </span>
                </td>
                <td>
                  <button class="download-btn" title="Descargar PDF">
                    üì• PDF
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </app-card>
      </section>
    </div>
  </div>
</div>
